# ArgoCD 기본 설정 덮어쓰기
configs:
  cm:
    application.instanceLabelKey: argocd.argoproj.io/instance
    exec.enabled: true
    timeout.reconciliation: 30s

server:
  service:
    type: ClusterIP
    port: 80   # 추가 또는 확인

  ingress:
    enabled: true
    ingressClassName: alb
    annotations:
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip
      alb.ingress.kubernetes.io/backend-protocol: HTTP
      alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}]'
      alb.ingress.kubernetes.io/subnets: subnet-013b35b1e548c8003,subnet-0893b28b5ed33b838,subnet-07946e2ab2bcb3e85  # ← 네 퍼블릭 서브넷 ID
    hosts:
      - paths:
          - /

controller:
  metrics:
    enabled: true

repoServer:
  metrics:
    enabled: true
